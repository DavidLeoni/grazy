{"version": 1,"name": "deferredlights.cgfx","samplers":{"lightprojection":{"MinFilter": 9728,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071},"lightfalloff":{"MinFilter": 9728,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071},"depthTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"normalTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"shadowMapTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"albedoTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"specularTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"diffuseLightingTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"specularLightingTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"colorTexture":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071}},"parameters":{"viewProjection":{"type": "float","rows": 4,"columns": 4},"world":{"type": "float","rows": 4,"columns": 3},"worldViewTranspose":{"type": "float","rows": 3,"columns": 4},"lightExtents":{"type": "float","columns": 3},"lightExtentsInverse":{"type": "float","columns": 3},"eyePositionLightSpace":{"type": "float","columns": 3},"lightViewInverseTranspose":{"type": "float","rows": 3,"columns": 4},"lightFrustum":{"type": "float","rows": 3,"columns": 3},"maxDepth":{"type": "float"},"lightOrigin":{"type": "float","columns": 3},"lightColor":{"type": "float","columns": 3},"lightDirection":{"type": "float","columns": 3},"ambientColor":{"type": "float","columns": 3},"lightingScale":{"type": "float"},"shadowProjection":{"type": "float","rows": 4,"columns": 4},"shadowDepth":{"type": "float","columns": 4},"shadowSize":{"type": "float"},"alphaRef":{"type": "float","values": [0.003]},"lightprojection":{"type": "sampler2D"},"lightfalloff":{"type": "sampler2D"},"depthTexture":{"type": "sampler2D"},"normalTexture":{"type": "sampler2D"},"shadowMapTexture":{"type": "sampler2D"},"albedoTexture":{"type": "sampler2D"},"specularTexture":{"type": "sampler2D"},"diffuseLightingTexture":{"type": "sampler2D"},"specularLightingTexture":{"type": "sampler2D"},"colorTexture":{"type": "sampler2D"}},"techniques":{"ambient_light":[{"parameters": ["lightColor"],"semantics": ["POSITION"],"states":{"DepthTestEnable": false,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": false,"BlendEnable": false},"programs": ["vp_ambient_light","fp_ambient_light"]}],"ambient_directional_light":[{"parameters": ["lightColor","lightDirection","ambientColor","normalTexture"],"semantics": ["POSITION","TEXCOORD0"],"states":{"DepthTestEnable": false,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": false,"BlendEnable": false},"programs": ["vp_directional_light","fp_ambient_directional_light"]}],"directional_light":[{"parameters": ["lightColor","lightDirection","normalTexture"],"semantics": ["POSITION","TEXCOORD0"],"states":{"DepthTestEnable": false,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_directional_light","fp_directional_light"]}],"spot_light":[{"parameters": ["viewProjection","world","worldViewTranspose","lightFrustum","lightViewInverseTranspose","maxDepth","lightOrigin","lightColor","alphaRef","lightprojection","lightfalloff","depthTexture","normalTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_spot_light","fp_spot_light"]}],"spot_light_shadow":[{"parameters": ["viewProjection","world","worldViewTranspose","lightFrustum","lightViewInverseTranspose","maxDepth","lightOrigin","lightColor","shadowProjection","shadowDepth","shadowSize","alphaRef","lightprojection","lightfalloff","depthTexture","normalTexture","shadowMapTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_spot_light","fp_spot_light_shadow"]}],"point_light":[{"parameters": ["viewProjection","world","worldViewTranspose","lightExtents","lightViewInverseTranspose","maxDepth","lightOrigin","lightColor","alphaRef","lightprojection","lightfalloff","depthTexture","normalTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_light","fp_point_light"]}],"point_light_specular":[{"parameters": ["viewProjection","world","worldViewTranspose","lightExtents","lightViewInverseTranspose","maxDepth","lightOrigin","lightColor","alphaRef","lightprojection","lightfalloff","depthTexture","normalTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_light","fp_point_light_specular"]}],"point_light_specular_opaque":[{"parameters": ["viewProjection","world","worldViewTranspose","lightExtents","lightViewInverseTranspose","maxDepth","lightOrigin","lightColor","alphaRef","lightprojection","lightfalloff","depthTexture","normalTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": false},"programs": ["vp_light","fp_point_light_specular"]}],"point_light_specular_shadow":[{"parameters": ["viewProjection","world","worldViewTranspose","lightExtents","lightViewInverseTranspose","maxDepth","lightOrigin","lightColor","shadowProjection","shadowDepth","shadowSize","alphaRef","lightprojection","lightfalloff","depthTexture","normalTexture","shadowMapTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": true,"BlendFunc": [1,1]},"programs": ["vp_light","fp_point_light_specular_shadow"]}],"point_light_specular_shadow_opaque":[{"parameters": ["viewProjection","world","worldViewTranspose","lightExtents","lightViewInverseTranspose","maxDepth","lightOrigin","lightColor","shadowProjection","shadowDepth","shadowSize","alphaRef","lightprojection","lightfalloff","depthTexture","normalTexture","shadowMapTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [514,0,-1],"StencilOp": [7680,7680,7680],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": false},"programs": ["vp_light","fp_point_light_specular_shadow"]}],"fog_light":[{"parameters": ["viewProjection","world","worldViewTranspose","lightExtents","eyePositionLightSpace","lightExtentsInverse","lightViewInverseTranspose","maxDepth","lightColor","alphaRef","depthTexture"],"semantics": ["POSITION"],"states":{"DepthTestEnable": false,"DepthMask": false,"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": true,"BlendFunc": [770,771]},"programs": ["vp_fog_light","fp_fog_light"]}],"mix":[{"parameters": ["lightingScale","albedoTexture","specularTexture","diffuseLightingTexture","specularLightingTexture"],"semantics": ["POSITION","TEXCOORD0"],"states":{"DepthTestEnable": false,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": false},"programs": ["vp_mix","fp_mix"]}]},"programs":{"fp_mix":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];\nvec4 _ret_0;vec3 _TMP3;vec4 _TMP2;vec4 _TMP1;vec4 _TMP0;vec3 _b0042;uniform float lightingScale;uniform sampler2D albedoTexture;uniform sampler2D specularTexture;uniform sampler2D diffuseLightingTexture;uniform sampler2D specularLightingTexture;void main()\n{vec4 _specular;vec3 _diffuseLighting;vec3 _specularLighting;vec3 _TMP32;_TMP0=texture2D(albedoTexture,tz_TexCoord[0].xy);_specular=texture2D(specularTexture,tz_TexCoord[0].xy);_TMP1=texture2D(diffuseLightingTexture,tz_TexCoord[0].xy);_diffuseLighting=lightingScale*_TMP1.xyz;_TMP2=texture2D(specularLightingTexture,tz_TexCoord[0].xy);_specularLighting=lightingScale*_TMP2.xyz;_b0042=_TMP0.xyz*_diffuseLighting;_TMP3=_TMP0.xyz+_specular.w*(_b0042-_TMP0.xyz);_TMP32=_TMP3+_specularLighting*_specular.xyz;_ret_0=vec4(_TMP32.x,_TMP32.y,_TMP32.z,1.0);gl_FragColor=_ret_0;}"},"vp_mix":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];attribute vec4 ATTR0;attribute vec4 ATTR8;\nvoid main()\n{tz_TexCoord[0].xy=ATTR8.xy;gl_Position=ATTR0;}"},"fp_fog_light":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[4];\nvec4 _ret_0;float _TMP2;float _TMP5;float _TMP4;float _TMP3;vec4 _TMP0;float _TMP39;vec4 _p0044;vec3 _a0052;vec3 _a0054;vec3 _a0056;float _a0058;uniform vec3 lightExtentsInverse;uniform vec4 lightViewInverseTranspose[3];uniform float maxDepth;uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D depthTexture;void main()\n{vec2 _uv;float _z;vec3 _position;vec3 _fragmentPos;vec3 _eyePos;float _distanceToFragment;float _distanceToEntry;float _distanceToExit;float _fogDistance;vec2 _TMP36;_uv=(tz_TexCoord[0].xy/tz_TexCoord[0].z)*0.5+0.5;_TMP0=texture2D(depthTexture,_uv);_TMP39=dot(_TMP0,vec4(1.0,3.92156886E-003,1.53787005E-005,6.03086292E-008));_z=_TMP39*maxDepth;_TMP36=(tz_TexCoord[1].xy/tz_TexCoord[1].z)*_z;_position=vec3(_TMP36.x,_TMP36.y,_z);_p0044=vec4(_position.x,_position.y,_position.z,1.0);_TMP3=dot(_p0044,lightViewInverseTranspose[0]);_TMP4=dot(_p0044,lightViewInverseTranspose[1]);_TMP5=dot(_p0044,lightViewInverseTranspose[2]);_fragmentPos=vec3(_TMP3,_TMP4,_TMP5);_eyePos=vec3(lightViewInverseTranspose[0].w,lightViewInverseTranspose[1].w,lightViewInverseTranspose[2].w);_a0052=(_fragmentPos-_eyePos)*lightExtentsInverse;_distanceToFragment=length(_a0052);_a0054=(tz_TexCoord[3].xyz-_eyePos)*lightExtentsInverse;_distanceToEntry=length(_a0054);_a0056=(tz_TexCoord[2].xyz-_eyePos)*lightExtentsInverse;_distanceToExit=length(_a0056);_a0058=_distanceToFragment-_distanceToExit;_TMP2=max(_a0058,0.0);_fogDistance=(_distanceToFragment-_distanceToEntry)-_TMP2;if(_fogDistance<alphaRef){discard;}\n_ret_0=vec4(lightColor.x,lightColor.y,lightColor.z,_fogDistance);gl_FragColor=_ret_0;}"},"vp_fog_light":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[4];attribute vec4 ATTR0;\nstruct VP_FOG_LIGHT_OUT{vec4 _Position2;vec3 _ScreenPos1;vec3 _ViewPos1;vec3 _ExitPos;vec3 _HitPos;};bool _TMP1;bool _TMP0;float _TMP4;float _TMP3;float _TMP2;vec3 _wpt0035;vec4 _p0037;bvec3 _a0045;bvec3 _a0047;float _fMaxT0049;vec3 _vRayDir0049;float _t0049;vec3 _vRayIntersection0049;uniform vec4 viewProjection[4];uniform vec3 world[4];uniform vec4 worldViewTranspose[3];uniform vec3 lightExtents;uniform vec3 eyePositionLightSpace;void main()\n{VP_FOG_LIGHT_OUT _OUT;vec3 _scaledInPosition;vec4 _position;vec3 _exitPos;_scaledInPosition=ATTR0.xyz*lightExtents;_wpt0035=_scaledInPosition.xxx*world[0]+_scaledInPosition.yyy*world[1]+_scaledInPosition.zzz*world[2]+world[3];_position=_wpt0035.xxxx*viewProjection[0]+_wpt0035.yyyy*viewProjection[1]+_wpt0035.zzzz*viewProjection[2]+viewProjection[3];_exitPos=ATTR0.xyz*0.5+0.5;_p0037=vec4(_scaledInPosition.x,_scaledInPosition.y,_scaledInPosition.z,1.0);_TMP2=dot(_p0037,worldViewTranspose[0]);_TMP3=dot(_p0037,worldViewTranspose[1]);_TMP4=dot(_p0037,worldViewTranspose[2]);_OUT._ViewPos1=vec3(_TMP2,_TMP3,_TMP4);_a0045=bvec3(eyePositionLightSpace.x<0.0,eyePositionLightSpace.y<0.0,eyePositionLightSpace.z<0.0);_TMP0=_a0045.x||_a0045.y||_a0045.z;_a0047=bvec3(eyePositionLightSpace.x>1.0,eyePositionLightSpace.y>1.0,eyePositionLightSpace.z>1.0);_TMP1=_a0047.x||_a0047.y||_a0047.z;if(_TMP0||_TMP1){_vRayDir0049=_exitPos-eyePositionLightSpace;_fMaxT0049=-1.0;if(_vRayDir0049.x>0.0){_t0049=(0.0-eyePositionLightSpace.x)/_vRayDir0049.x;_fMaxT0049=max(_t0049,-1.0);}\nif(_vRayDir0049.x<0.0){_t0049=(1.0-eyePositionLightSpace.x)/_vRayDir0049.x;_fMaxT0049=max(_t0049,_fMaxT0049);}\nif(_vRayDir0049.y>0.0){_t0049=(0.0-eyePositionLightSpace.y)/_vRayDir0049.y;_fMaxT0049=max(_t0049,_fMaxT0049);}\nif(_vRayDir0049.y<0.0){_t0049=(1.0-eyePositionLightSpace.y)/_vRayDir0049.y;_fMaxT0049=max(_t0049,_fMaxT0049);}\nif(_vRayDir0049.z>0.0){_t0049=(0.0-eyePositionLightSpace.z)/_vRayDir0049.z;_fMaxT0049=max(_t0049,_fMaxT0049);}\nif(_vRayDir0049.z<0.0){_t0049=(1.0-eyePositionLightSpace.z)/_vRayDir0049.z;_fMaxT0049=max(_t0049,_fMaxT0049);}\n_vRayIntersection0049=eyePositionLightSpace+_vRayDir0049*_fMaxT0049;_OUT._HitPos=_vRayIntersection0049;}else{_OUT._HitPos=eyePositionLightSpace;}\ntz_TexCoord[2].xyz=_exitPos;tz_TexCoord[0].xyz=_position.xyw;tz_TexCoord[3].xyz=_OUT._HitPos;tz_TexCoord[1].xyz=_OUT._ViewPos1;gl_Position=_position;}"},"fp_point_light_specular_shadow":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[2];struct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};float _TMP25;float _TMP24;float _TMP23;float _TMP22;vec4 _TMP19;vec4 _TMP18;vec4 _TMP17;vec4 _TMP16;float _TMP15;float _TMP21;vec4 _TMP14;float _TMP13;float _TMP12;float _TMP11;float _TMP10;float _TMP9;vec3 _TMP5;vec4 _TMP4;vec4 _TMP3;float _TMP8;float _TMP7;float _TMP6;vec4 _TMP2;vec4 _TMP0;float _TMP61;vec4 _p0068;vec2 _c0078;vec3 _v0082;vec3 _Hn0093;float _d0093;float _s0093;vec3 _DiffuseContrib0093;vec3 _SpecularContrib0093;vec3 _v0095;vec2 _shadowSpace0111;vec2 _shadowuv0111;vec2 _unnormalized0111;vec2 _fractional0111;float _shadowSizeReciprocal0111;vec4 _exponent0111;float _occlusion0111;float _shadowAttenuation0111;vec3 _attenuation0111;vec4 _b0115;float _x0117;float _TMP118;vec2 _c0129;float _TMP130;vec2 _c0135;float _TMP136;vec2 _c0141;float _TMP142;vec2 _c0147;float _TMP148;vec4 _TMP152;vec4 _x0153;vec4 _TMP164;float _a0169;uniform vec4 lightViewInverseTranspose[3];uniform float maxDepth;uniform vec3 lightOrigin;uniform vec3 lightColor;uniform vec4 shadowProjection[4];uniform vec4 shadowDepth;uniform float shadowSize;uniform float alphaRef;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D depthTexture;uniform sampler2D normalTexture;uniform sampler2D shadowMapTexture;void main()\n{FP_LIGHT_OUT _OUT;vec2 _uv;float _z;vec3 _normal;vec3 _position1;vec3 _lightPos;vec3 _attenuation1;float _alpha;vec3 _light;vec3 _view;vec3 _TMP54;vec3 _TMP55;vec2 _TMP58;_uv=(tz_TexCoord[0].xy/tz_TexCoord[0].z)*0.5+0.5;_TMP0=texture2D(depthTexture,_uv);_TMP61=dot(_TMP0,vec4(1.0,3.92156886E-003,1.53787005E-005,6.03086292E-008));_z=_TMP61*maxDepth;_TMP2=texture2D(normalTexture,_uv);_normal=_TMP2.xyz*2.0-1.0;_TMP58=(tz_TexCoord[1].xy/tz_TexCoord[1].z)*_z;_position1=vec3(_TMP58.x,_TMP58.y,_z);_p0068=vec4(_position1.x,_position1.y,_position1.z,1.0);_TMP6=dot(_p0068,lightViewInverseTranspose[0]);_TMP7=dot(_p0068,lightViewInverseTranspose[1]);_TMP8=dot(_p0068,lightViewInverseTranspose[2]);_lightPos=vec3(_TMP6,_TMP7,_TMP8);_TMP3=texture2D(lightprojection,_lightPos.xy);_c0078=vec2(_lightPos.z,0.5);_TMP4=texture2D(lightfalloff,_c0078);_attenuation1=_TMP3.xyz*_TMP4.y;_alpha=dot(_attenuation1,vec3(3.00000012E-001,5.89999974E-001,1.09999999E-001));if(_alpha<alphaRef){discard;}\n_v0082=lightOrigin-_position1;_TMP9=dot(_v0082,_v0082);_TMP10=inversesqrt(_TMP9);_light=_TMP10*_v0082;_TMP9=dot(_position1,_position1);_TMP10=inversesqrt(_TMP9);_TMP5=_TMP10*_position1;_view=-_TMP5;_v0095=_view+_light;_TMP9=dot(_v0095,_v0095);_TMP10=inversesqrt(_TMP9);_Hn0093=_TMP10*_v0095;_TMP11=dot(_light,_normal);_d0093=max(_TMP11,0.0);_TMP12=dot(_Hn0093,_normal);_TMP13=max(_TMP12,0.0);_s0093=pow(_TMP13,8.0);_DiffuseContrib0093=_d0093*lightColor;_SpecularContrib0093=float((_d0093>0.0))*_s0093*lightColor;_TMP14=_position1.xxxx*shadowProjection[0]+_position1.yyyy*shadowProjection[1]+_position1.zzzz*shadowProjection[2]+shadowProjection[3];_shadowSpace0111=_TMP14.xy/_TMP14.w;_b0115=vec4(_position1.x,_position1.y,_position1.z,1.0);_TMP15=dot(shadowDepth,_b0115);_x0117=_TMP15-7.00000022E-003;_TMP21=min(1.0,_x0117);_TMP118=max(0.0,_TMP21);_shadowuv0111=_shadowSpace0111*0.5+0.5;_unnormalized0111=_shadowuv0111*shadowSize;_fractional0111=fract(_unnormalized0111);_unnormalized0111=floor(_unnormalized0111);_shadowSizeReciprocal0111=1.0/shadowSize;_c0129=(_unnormalized0111+vec2(-0.5,0.5))*_shadowSizeReciprocal0111;_TMP16=texture2D(shadowMapTexture,_c0129);_TMP130=dot(_TMP16.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0111.x=_TMP130;_c0135=(_unnormalized0111+vec2(0.5,0.5))*_shadowSizeReciprocal0111;_TMP17=texture2D(shadowMapTexture,_c0135);_TMP136=dot(_TMP17.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0111.y=_TMP136;_c0141=(_unnormalized0111+vec2(0.5,-0.5))*_shadowSizeReciprocal0111;_TMP18=texture2D(shadowMapTexture,_c0141);_TMP142=dot(_TMP18.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0111.z=_TMP142;_c0147=(_unnormalized0111+vec2(-0.5,-0.5))*_shadowSizeReciprocal0111;_TMP19=texture2D(shadowMapTexture,_c0147);_TMP148=dot(_TMP19.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0111.w=_TMP148;_x0153=48.0*(_exponent0111-_TMP118);_TMP22=pow(2.71828198,_x0153.x);_TMP23=pow(2.71828198,_x0153.y);_TMP24=pow(2.71828198,_x0153.z);_TMP25=pow(2.71828198,_x0153.w);_TMP152=vec4(_TMP22,_TMP23,_TMP24,_TMP25);_TMP164=min(_TMP152,vec4(1.0E+004,1.0E+004,1.0E+004,1.0E+004));_occlusion0111=_TMP164.w+(_TMP164.x-_TMP164.w)*_fractional0111.y;_a0169=_occlusion0111+((_TMP164.z+(_TMP164.y-_TMP164.z)*_fractional0111.y)-_occlusion0111)*_fractional0111.x;_shadowAttenuation0111=min(_a0169,1.0);_attenuation0111=_attenuation1*_shadowAttenuation0111;_TMP55=_DiffuseContrib0093*_attenuation0111;_OUT._diffuse=vec4(_TMP55.x,_TMP55.y,_TMP55.z,_alpha);_TMP54=_SpecularContrib0093*_attenuation0111;_OUT._specular=vec4(_TMP54.x,_TMP54.y,_TMP54.z,_alpha);gl_FragData[1]=_OUT._specular;gl_FragData[0]=_OUT._diffuse;}"},"vp_light":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[2];attribute vec4 ATTR0;\nstruct VP_LIGHT_OUT{vec4 _Position1;vec3 _ScreenPos;vec3 _ViewPos;};float _TMP2;float _TMP1;float _TMP0;vec3 _wpt0033;vec4 _p0035;uniform vec4 viewProjection[4];uniform vec3 world[4];uniform vec4 worldViewTranspose[3];uniform vec3 lightExtents;void main()\n{VP_LIGHT_OUT _OUT;vec3 _scaledInPosition;vec4 _position;_scaledInPosition=ATTR0.xyz*lightExtents;_wpt0033=_scaledInPosition.xxx*world[0]+_scaledInPosition.yyy*world[1]+_scaledInPosition.zzz*world[2]+world[3];_position=_wpt0033.xxxx*viewProjection[0]+_wpt0033.yyyy*viewProjection[1]+_wpt0033.zzzz*viewProjection[2]+viewProjection[3];_p0035=vec4(_scaledInPosition.x,_scaledInPosition.y,_scaledInPosition.z,1.0);_TMP0=dot(_p0035,worldViewTranspose[0]);_TMP1=dot(_p0035,worldViewTranspose[1]);_TMP2=dot(_p0035,worldViewTranspose[2]);_OUT._ViewPos=vec3(_TMP0,_TMP1,_TMP2);tz_TexCoord[0].xyz=_position.xyw;tz_TexCoord[1].xyz=_OUT._ViewPos;gl_Position=_position;}"},"fp_point_light_specular":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[2];struct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};float _TMP13;float _TMP12;float _TMP11;float _TMP10;float _TMP9;vec3 _TMP5;vec4 _TMP4;vec4 _TMP3;float _TMP8;float _TMP7;float _TMP6;vec4 _TMP2;vec4 _TMP0;float _TMP48;vec4 _p0055;vec2 _c0065;vec3 _v0069;vec3 _Hn0080;float _d0080;float _s0080;vec3 _DiffuseContrib0080;vec3 _SpecularContrib0080;vec3 _v0082;uniform vec4 lightViewInverseTranspose[3];uniform float maxDepth;uniform vec3 lightOrigin;uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D depthTexture;uniform sampler2D normalTexture;void main()\n{FP_LIGHT_OUT _OUT;vec2 _uv;float _z;vec3 _normal;vec3 _position;vec3 _lightPos;vec3 _attenuation;float _alpha;vec3 _light;vec3 _view;vec3 _TMP42;vec3 _TMP43;vec2 _TMP45;_uv=(tz_TexCoord[0].xy/tz_TexCoord[0].z)*0.5+0.5;_TMP0=texture2D(depthTexture,_uv);_TMP48=dot(_TMP0,vec4(1.0,3.92156886E-003,1.53787005E-005,6.03086292E-008));_z=_TMP48*maxDepth;_TMP2=texture2D(normalTexture,_uv);_normal=_TMP2.xyz*2.0-1.0;_TMP45=(tz_TexCoord[1].xy/tz_TexCoord[1].z)*_z;_position=vec3(_TMP45.x,_TMP45.y,_z);_p0055=vec4(_position.x,_position.y,_position.z,1.0);_TMP6=dot(_p0055,lightViewInverseTranspose[0]);_TMP7=dot(_p0055,lightViewInverseTranspose[1]);_TMP8=dot(_p0055,lightViewInverseTranspose[2]);_lightPos=vec3(_TMP6,_TMP7,_TMP8);_TMP3=texture2D(lightprojection,_lightPos.xy);_c0065=vec2(_lightPos.z,0.5);_TMP4=texture2D(lightfalloff,_c0065);_attenuation=_TMP3.xyz*_TMP4.y;_alpha=dot(_attenuation,vec3(3.00000012E-001,5.89999974E-001,1.09999999E-001));if(_alpha<alphaRef){discard;}\n_v0069=lightOrigin-_position;_TMP9=dot(_v0069,_v0069);_TMP10=inversesqrt(_TMP9);_light=_TMP10*_v0069;_TMP9=dot(_position,_position);_TMP10=inversesqrt(_TMP9);_TMP5=_TMP10*_position;_view=-_TMP5;_v0082=_view+_light;_TMP9=dot(_v0082,_v0082);_TMP10=inversesqrt(_TMP9);_Hn0080=_TMP10*_v0082;_TMP11=dot(_light,_normal);_d0080=max(_TMP11,0.0);_TMP12=dot(_Hn0080,_normal);_TMP13=max(_TMP12,0.0);_s0080=pow(_TMP13,8.0);_DiffuseContrib0080=_d0080*lightColor;_SpecularContrib0080=float((_d0080>0.0))*_s0080*lightColor;_TMP43=_DiffuseContrib0080*_attenuation;_OUT._diffuse=vec4(_TMP43.x,_TMP43.y,_TMP43.z,_alpha);_TMP42=_SpecularContrib0080*_attenuation;_OUT._specular=vec4(_TMP42.x,_TMP42.y,_TMP42.z,_alpha);gl_FragData[1]=_OUT._specular;gl_FragData[0]=_OUT._diffuse;}"},"fp_point_light":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[2];struct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};vec4 _TMP6;vec4 _TMP5;float _TMP4;float _TMP3;float _TMP11;float _TMP10;float _TMP9;float _TMP8;float _TMP7;vec4 _TMP2;vec4 _TMP0;float _TMP45;vec4 _p0052;vec3 _v0060;vec2 _c0072;uniform vec4 lightViewInverseTranspose[3];uniform float maxDepth;uniform vec3 lightOrigin;uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D depthTexture;uniform sampler2D normalTexture;void main()\n{FP_LIGHT_OUT _OUT;vec2 _uv;float _z;vec3 _normal;vec3 _position;vec3 _lightPos;vec3 _light;vec3 _diffuseContrib;vec3 _attenuation;float _alpha;vec2 _TMP42;_uv=(tz_TexCoord[0].xy/tz_TexCoord[0].z)*0.5+0.5;_TMP0=texture2D(depthTexture,_uv);_TMP45=dot(_TMP0,vec4(1.0,3.92156886E-003,1.53787005E-005,6.03086292E-008));_z=_TMP45*maxDepth;_TMP2=texture2D(normalTexture,_uv);_normal=_TMP2.xyz*2.0-1.0;_TMP42=(tz_TexCoord[1].xy/tz_TexCoord[1].z)*_z;_position=vec3(_TMP42.x,_TMP42.y,_z);_p0052=vec4(_position.x,_position.y,_position.z,1.0);_TMP7=dot(_p0052,lightViewInverseTranspose[0]);_TMP8=dot(_p0052,lightViewInverseTranspose[1]);_TMP9=dot(_p0052,lightViewInverseTranspose[2]);_lightPos=vec3(_TMP7,_TMP8,_TMP9);_v0060=lightOrigin-_position;_TMP10=dot(_v0060,_v0060);_TMP11=inversesqrt(_TMP10);_light=_TMP11*_v0060;_TMP3=dot(_light,_normal);_TMP4=max(_TMP3,0.0);_diffuseContrib=_TMP4*lightColor;_TMP5=texture2D(lightprojection,_lightPos.xy);_c0072=vec2(_lightPos.z,0.5);_TMP6=texture2D(lightfalloff,_c0072);_attenuation=_TMP5.xyz*_TMP6.y;_diffuseContrib=_diffuseContrib*_attenuation;_alpha=dot(_diffuseContrib,vec3(3.00000012E-001,5.89999974E-001,1.09999999E-001));if(_alpha<alphaRef){discard;}\n_OUT._diffuse=vec4(_diffuseContrib.x,_diffuseContrib.y,_diffuseContrib.z,_alpha);gl_FragData[1]=vec4(0.0,0.0,0.0,0.0);gl_FragData[0]=_OUT._diffuse;}"},"fp_spot_light_shadow":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[2];struct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};float _TMP26;float _TMP25;float _TMP24;float _TMP23;vec4 _TMP20;vec4 _TMP19;vec4 _TMP18;vec4 _TMP17;float _TMP16;float _TMP22;vec4 _TMP15;float _TMP14;float _TMP13;float _TMP12;float _TMP11;float _TMP10;vec4 _TMP5;vec3 _TMP4;vec4 _TMP3;vec4 _TMP9;float _TMP8;float _TMP7;float _TMP6;vec4 _TMP0;float _TMP63;vec4 _p0068;vec4 _temp0076;vec2 _c0080;vec3 _v0084;vec3 _Hn0097;float _d0097;float _s0097;vec3 _DiffuseContrib0097;vec3 _SpecularContrib0097;vec3 _v0099;vec2 _shadowSpace0115;vec2 _shadowuv0115;vec2 _unnormalized0115;vec2 _fractional0115;float _shadowSizeReciprocal0115;vec4 _exponent0115;float _occlusion0115;float _shadowAttenuation0115;vec3 _attenuation0115;vec4 _b0119;float _x0121;float _TMP122;vec2 _c0133;float _TMP134;vec2 _c0139;float _TMP140;vec2 _c0145;float _TMP146;vec2 _c0151;float _TMP152;vec4 _TMP156;vec4 _x0157;vec4 _TMP168;float _a0173;uniform vec4 lightViewInverseTranspose[3];uniform float maxDepth;uniform vec3 lightOrigin;uniform vec3 lightColor;uniform vec4 shadowProjection[4];uniform vec4 shadowDepth;uniform float shadowSize;uniform float alphaRef;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D depthTexture;uniform sampler2D normalTexture;uniform sampler2D shadowMapTexture;void main()\n{FP_LIGHT_OUT _OUT;vec2 _uv;float _z;vec3 _position1;vec3 _lightPos;vec3 _attenuation1;float _alpha;vec3 _light;vec3 _view;vec3 _normal;vec3 _TMP55;vec3 _TMP56;vec2 _TMP60;_uv=(tz_TexCoord[0].xy/tz_TexCoord[0].z)*0.5+0.5;_TMP0=texture2D(depthTexture,_uv);_TMP63=dot(_TMP0,vec4(1.0,3.92156886E-003,1.53787005E-005,6.03086292E-008));_z=_TMP63*maxDepth;_TMP60=(tz_TexCoord[1].xy/tz_TexCoord[1].z)*_z;_position1=vec3(_TMP60.x,_TMP60.y,_z);_p0068=vec4(_position1.x,_position1.y,_position1.z,1.0);_TMP6=dot(_p0068,lightViewInverseTranspose[0]);_TMP7=dot(_p0068,lightViewInverseTranspose[1]);_TMP8=dot(_p0068,lightViewInverseTranspose[2]);_lightPos=vec3(_TMP6,_TMP7,_TMP8);_temp0076=vec4(_lightPos.x,_lightPos.y,_lightPos.z,1.0);_TMP9=texture2DProj(lightprojection,_temp0076.xyz);_c0080=vec2(_lightPos.z,0.5);_TMP3=texture2D(lightfalloff,_c0080);_attenuation1=_TMP9.xyz*_TMP3.y;_alpha=dot(_attenuation1,vec3(3.00000012E-001,5.89999974E-001,1.09999999E-001));if(_alpha<alphaRef){discard;}\n_v0084=lightOrigin-_position1;_TMP10=dot(_v0084,_v0084);_TMP11=inversesqrt(_TMP10);_light=_TMP11*_v0084;_TMP10=dot(_position1,_position1);_TMP11=inversesqrt(_TMP10);_TMP4=_TMP11*_position1;_view=-_TMP4;_TMP5=texture2D(normalTexture,_uv);_normal=_TMP5.xyz*2.0-1.0;_v0099=_view+_light;_TMP10=dot(_v0099,_v0099);_TMP11=inversesqrt(_TMP10);_Hn0097=_TMP11*_v0099;_TMP12=dot(_light,_normal);_d0097=max(_TMP12,0.0);_TMP13=dot(_Hn0097,_normal);_TMP14=max(_TMP13,0.0);_s0097=pow(_TMP14,8.0);_DiffuseContrib0097=_d0097*lightColor;_SpecularContrib0097=float((_d0097>0.0))*_s0097*lightColor;_TMP15=_position1.xxxx*shadowProjection[0]+_position1.yyyy*shadowProjection[1]+_position1.zzzz*shadowProjection[2]+shadowProjection[3];_shadowSpace0115=_TMP15.xy/_TMP15.w;_b0119=vec4(_position1.x,_position1.y,_position1.z,1.0);_TMP16=dot(shadowDepth,_b0119);_x0121=_TMP16-7.00000022E-003;_TMP22=min(1.0,_x0121);_TMP122=max(0.0,_TMP22);_shadowuv0115=_shadowSpace0115*0.5+0.5;_unnormalized0115=_shadowuv0115*shadowSize;_fractional0115=fract(_unnormalized0115);_unnormalized0115=floor(_unnormalized0115);_shadowSizeReciprocal0115=1.0/shadowSize;_c0133=(_unnormalized0115+vec2(-0.5,0.5))*_shadowSizeReciprocal0115;_TMP17=texture2D(shadowMapTexture,_c0133);_TMP134=dot(_TMP17.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0115.x=_TMP134;_c0139=(_unnormalized0115+vec2(0.5,0.5))*_shadowSizeReciprocal0115;_TMP18=texture2D(shadowMapTexture,_c0139);_TMP140=dot(_TMP18.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0115.y=_TMP140;_c0145=(_unnormalized0115+vec2(0.5,-0.5))*_shadowSizeReciprocal0115;_TMP19=texture2D(shadowMapTexture,_c0145);_TMP146=dot(_TMP19.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0115.z=_TMP146;_c0151=(_unnormalized0115+vec2(-0.5,-0.5))*_shadowSizeReciprocal0115;_TMP20=texture2D(shadowMapTexture,_c0151);_TMP152=dot(_TMP20.xyz,vec3(9.68764782E-001,3.07621881E-002,4.73029679E-004));_exponent0115.w=_TMP152;_x0157=48.0*(_exponent0115-_TMP122);_TMP23=pow(2.71828198,_x0157.x);_TMP24=pow(2.71828198,_x0157.y);_TMP25=pow(2.71828198,_x0157.z);_TMP26=pow(2.71828198,_x0157.w);_TMP156=vec4(_TMP23,_TMP24,_TMP25,_TMP26);_TMP168=min(_TMP156,vec4(1.0E+004,1.0E+004,1.0E+004,1.0E+004));_occlusion0115=_TMP168.w+(_TMP168.x-_TMP168.w)*_fractional0115.y;_a0173=_occlusion0115+((_TMP168.z+(_TMP168.y-_TMP168.z)*_fractional0115.y)-_occlusion0115)*_fractional0115.x;_shadowAttenuation0115=min(_a0173,1.0);_attenuation0115=_attenuation1*_shadowAttenuation0115;_TMP56=_DiffuseContrib0097*_attenuation0115;_OUT._diffuse=vec4(_TMP56.x,_TMP56.y,_TMP56.z,_alpha);_TMP55=_SpecularContrib0097*_attenuation0115;_OUT._specular=vec4(_TMP55.x,_TMP55.y,_TMP55.z,_alpha);gl_FragData[1]=_OUT._specular;gl_FragData[0]=_OUT._diffuse;}"},"vp_spot_light":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[2];attribute vec4 ATTR0;\nstruct VP_LIGHT_OUT{vec4 _Position1;vec3 _ScreenPos;vec3 _ViewPos;};float _TMP2;float _TMP1;float _TMP0;vec3 _wpt0035;vec4 _p0037;uniform vec4 viewProjection[4];uniform vec3 world[4];uniform vec4 worldViewTranspose[3];uniform vec3 lightFrustum[3];void main()\n{VP_LIGHT_OUT _OUT;vec3 _scaledInPosition;vec4 _position;_scaledInPosition=ATTR0.xxx*lightFrustum[0]+ATTR0.yyy*lightFrustum[1]+ATTR0.zzz*lightFrustum[2];_wpt0035=_scaledInPosition.xxx*world[0]+_scaledInPosition.yyy*world[1]+_scaledInPosition.zzz*world[2]+world[3];_position=_wpt0035.xxxx*viewProjection[0]+_wpt0035.yyyy*viewProjection[1]+_wpt0035.zzzz*viewProjection[2]+viewProjection[3];_p0037=vec4(_scaledInPosition.x,_scaledInPosition.y,_scaledInPosition.z,1.0);_TMP0=dot(_p0037,worldViewTranspose[0]);_TMP1=dot(_p0037,worldViewTranspose[1]);_TMP2=dot(_p0037,worldViewTranspose[2]);_OUT._ViewPos=vec3(_TMP0,_TMP1,_TMP2);tz_TexCoord[0].xyz=_position.xyw;tz_TexCoord[1].xyz=_OUT._ViewPos;gl_Position=_position;}"},"fp_spot_light":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[2];struct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};float _TMP14;float _TMP13;float _TMP12;float _TMP11;float _TMP10;vec4 _TMP5;vec3 _TMP4;vec4 _TMP3;vec4 _TMP9;float _TMP8;float _TMP7;float _TMP6;vec4 _TMP0;float _TMP50;vec4 _p0055;vec4 _temp0063;vec2 _c0067;vec3 _v0071;vec3 _Hn0084;float _d0084;float _s0084;vec3 _DiffuseContrib0084;vec3 _SpecularContrib0084;vec3 _v0086;uniform vec4 lightViewInverseTranspose[3];uniform float maxDepth;uniform vec3 lightOrigin;uniform vec3 lightColor;uniform float alphaRef;uniform sampler2D lightprojection;uniform sampler2D lightfalloff;uniform sampler2D depthTexture;uniform sampler2D normalTexture;void main()\n{FP_LIGHT_OUT _OUT;vec2 _uv;float _z;vec3 _position;vec3 _lightPos;vec3 _attenuation;float _alpha;vec3 _light;vec3 _view;vec3 _normal;vec3 _TMP43;vec3 _TMP44;vec2 _TMP47;_uv=(tz_TexCoord[0].xy/tz_TexCoord[0].z)*0.5+0.5;_TMP0=texture2D(depthTexture,_uv);_TMP50=dot(_TMP0,vec4(1.0,3.92156886E-003,1.53787005E-005,6.03086292E-008));_z=_TMP50*maxDepth;_TMP47=(tz_TexCoord[1].xy/tz_TexCoord[1].z)*_z;_position=vec3(_TMP47.x,_TMP47.y,_z);_p0055=vec4(_position.x,_position.y,_position.z,1.0);_TMP6=dot(_p0055,lightViewInverseTranspose[0]);_TMP7=dot(_p0055,lightViewInverseTranspose[1]);_TMP8=dot(_p0055,lightViewInverseTranspose[2]);_lightPos=vec3(_TMP6,_TMP7,_TMP8);_temp0063=vec4(_lightPos.x,_lightPos.y,_lightPos.z,1.0);_TMP9=texture2DProj(lightprojection,_temp0063.xyz);_c0067=vec2(_lightPos.z,0.5);_TMP3=texture2D(lightfalloff,_c0067);_attenuation=_TMP9.xyz*_TMP3.y;_alpha=dot(_attenuation,vec3(3.00000012E-001,5.89999974E-001,1.09999999E-001));if(_alpha<alphaRef){discard;}\n_v0071=lightOrigin-_position;_TMP10=dot(_v0071,_v0071);_TMP11=inversesqrt(_TMP10);_light=_TMP11*_v0071;_TMP10=dot(_position,_position);_TMP11=inversesqrt(_TMP10);_TMP4=_TMP11*_position;_view=-_TMP4;_TMP5=texture2D(normalTexture,_uv);_normal=_TMP5.xyz*2.0-1.0;_v0086=_view+_light;_TMP10=dot(_v0086,_v0086);_TMP11=inversesqrt(_TMP10);_Hn0084=_TMP11*_v0086;_TMP12=dot(_light,_normal);_d0084=max(_TMP12,0.0);_TMP13=dot(_Hn0084,_normal);_TMP14=max(_TMP13,0.0);_s0084=pow(_TMP14,8.0);_DiffuseContrib0084=_d0084*lightColor;_SpecularContrib0084=float((_d0084>0.0))*_s0084*lightColor;_TMP44=_DiffuseContrib0084*_attenuation;_OUT._diffuse=vec4(_TMP44.x,_TMP44.y,_TMP44.z,_alpha);_TMP43=_SpecularContrib0084*_attenuation;_OUT._specular=vec4(_TMP43.x,_TMP43.y,_TMP43.z,_alpha);gl_FragData[1]=_OUT._specular;gl_FragData[0]=_OUT._diffuse;}"},"fp_directional_light":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];struct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};float _TMP2;float _TMP1;vec4 _TMP0;vec3 _a0035;uniform vec3 lightColor;uniform vec3 lightDirection;uniform sampler2D normalTexture;void main()\n{FP_LIGHT_OUT _OUT;vec3 _normal;vec3 _diffuseContrib;_TMP0=texture2D(normalTexture,tz_TexCoord[0].xy);_normal=_TMP0.xyz*2.0-1.0;_a0035=-lightDirection;_TMP1=dot(_a0035,_normal);_TMP2=max(_TMP1,0.0);_diffuseContrib=_TMP2*lightColor;_OUT._diffuse=vec4(_diffuseContrib.x,_diffuseContrib.y,_diffuseContrib.z,1.0);gl_FragData[1]=vec4(0.0,0.0,0.0,0.0);gl_FragData[0]=_OUT._diffuse;}"},"vp_directional_light":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];attribute vec4 ATTR0;attribute vec4 ATTR8;\nvoid main()\n{tz_TexCoord[0].xy=ATTR8.xy;gl_Position=ATTR0;}"},"fp_ambient_directional_light":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];struct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};float _TMP2;float _TMP1;vec4 _TMP0;vec3 _a0035;uniform vec3 lightColor;uniform vec3 lightDirection;uniform vec3 ambientColor;uniform sampler2D normalTexture;void main()\n{FP_LIGHT_OUT _OUT;vec3 _normal;vec3 _diffuseContrib;_TMP0=texture2D(normalTexture,tz_TexCoord[0].xy);_normal=_TMP0.xyz*2.0-1.0;_a0035=-lightDirection;_TMP1=dot(_a0035,_normal);_TMP2=max(_TMP1,0.0);_diffuseContrib=_TMP2*lightColor+ambientColor;_OUT._diffuse=vec4(_diffuseContrib.x,_diffuseContrib.y,_diffuseContrib.z,1.0);gl_FragData[1]=vec4(0.0,0.0,0.0,0.0);gl_FragData[0]=_OUT._diffuse;}"},"fp_ambient_light":{"type": "fragment","code": "#extension GL_EXT_draw_buffers:require\n#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nstruct FP_LIGHT_OUT{vec4 _diffuse;vec4 _specular;};uniform vec3 lightColor;void main()\n{FP_LIGHT_OUT _OUT;_OUT._diffuse=vec4(lightColor.x,lightColor.y,lightColor.z,1.0);gl_FragData[1]=vec4(0.0,0.0,0.0,0.0);gl_FragData[0]=_OUT._diffuse;}"},"vp_ambient_light":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nattribute vec4 ATTR0;\nvoid main()\n{gl_Position=ATTR0;}"}}}