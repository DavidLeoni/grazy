{"version": 1,"name": "morph.cgfx","samplers":{"diffuse":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497,"MaxAnisotropy": 16}},"parameters":{"worldViewProjection":{"type": "float","rows": 4,"columns": 4},"eyePosition":{"type": "float","columns": 3},"morphWeights":{"type": "float","rows": 3},"materialColor":{"type": "float","columns": 4,"values": [1,1,1,1]},"lightPosition":{"type": "float","columns": 3},"lightColor":{"type": "float","columns": 3},"ambientColor":{"type": "float","columns": 3},"diffuse":{"type": "sampler2D"}},"techniques":{"morph":[{"name": "p0","parameters": ["worldViewProjection","morphWeights","materialColor","lightPosition","lightColor","ambientColor"],"semantics": ["ATTR0","ATTR2","ATTR10","ATTR11","ATTR12","ATTR13","ATTR14","ATTR15","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_morph","fp_morph"]}],"debug_normals_morph":[{"name": "p0","parameters": ["worldViewProjection","morphWeights"],"semantics": ["ATTR0","ATTR2","ATTR10","ATTR11","ATTR12","ATTR13","ATTR14","ATTR15","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_normals_morph","fp_normals"]}],"blinn_morph":[{"name": "p0","parameters": ["worldViewProjection","eyePosition","morphWeights","materialColor","lightPosition","lightColor","ambientColor","diffuse"],"semantics": ["ATTR0","ATTR2","ATTR10","ATTR11","ATTR12","ATTR13","ATTR14","ATTR15","ATTR8"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false},"programs": ["vp_blinn_morph","fp_blinn"]}]},"programs":{"fp_blinn":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[4];\nvec4 _ret_0;vec4 _TMP0;float _TMP4;float _TMP6;float _TMP3;float _TMP2;float _TMP1;vec3 _Hn0034;float _s0034;vec3 _DiffuseContrib0034;vec3 _SpecularContrib0034;vec3 _v0036;float _TMP45;float _TMP55;uniform vec3 lightColor;uniform vec3 ambientColor;uniform sampler2D diffuse;void main()\n{vec3 _Nn1;vec3 _Ln1;vec3 _Vn1;vec4 _diffuseColor;vec3 _result;_TMP1=dot(tz_TexCoord[1].xyz,tz_TexCoord[1].xyz);_TMP2=inversesqrt(_TMP1);_Nn1=_TMP2*tz_TexCoord[1].xyz;_TMP1=dot(tz_TexCoord[2].xyz,tz_TexCoord[2].xyz);_TMP2=inversesqrt(_TMP1);_Ln1=_TMP2*tz_TexCoord[2].xyz;_TMP1=dot(tz_TexCoord[3].xyz,tz_TexCoord[3].xyz);_TMP2=inversesqrt(_TMP1);_Vn1=_TMP2*tz_TexCoord[3].xyz;_v0036=_Vn1+_Ln1;_TMP1=dot(_v0036,_v0036);_TMP2=inversesqrt(_TMP1);_Hn0034=_TMP2*_v0036;_TMP3=dot(_Ln1,_Nn1);_TMP6=min(1.0,_TMP3);_TMP45=max(0.0,_TMP6);_TMP4=dot(_Hn0034,_Nn1);_TMP6=min(1.0,_TMP4);_TMP55=max(0.0,_TMP6);_s0034=pow(_TMP55,32.0);_DiffuseContrib0034=_TMP45*lightColor;_SpecularContrib0034=(float((_TMP45>0.0))*_s0034*0.5)*lightColor;_TMP0=texture2D(diffuse,tz_TexCoord[0].xy);_diffuseColor=tz_Color*_TMP0;_result=_SpecularContrib0034+_diffuseColor.xyz*(_DiffuseContrib0034+ambientColor);_ret_0=vec4(_result.x,_result.y,_result.z,_diffuseColor.w);gl_FragColor=_ret_0;}"},"vp_blinn_morph":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[4];\nvec4 _OUTColor1;vec4 _OUTPosition1;vec3 _OUTNormal1;vec3 _OUTView1;vec2 _OUTUV1;vec3 _OUTLight1;float _TMP1;float _TMP0;vec3 _v0019;vec3 _v0025;attribute vec4 ATTR0;attribute vec4 ATTR2;attribute vec4 ATTR10;attribute vec4 ATTR11;attribute vec4 ATTR12;attribute vec4 ATTR13;attribute vec4 ATTR14;attribute vec4 ATTR15;attribute vec4 ATTR8;uniform vec4 worldViewProjection[4];uniform vec3 eyePosition;uniform float morphWeights[3];uniform vec4 materialColor;uniform vec3 lightPosition;void main()\n{vec3 _morphPosition;vec3 _morphNormal;_morphPosition=ATTR0.xyz+(ATTR10.xyz-ATTR0.xyz)*morphWeights[0];_morphPosition=_morphPosition+(ATTR12.xyz-ATTR0.xyz)*morphWeights[1];_morphPosition=_morphPosition+(ATTR14.xyz-ATTR0.xyz)*morphWeights[2];_morphNormal=ATTR2.xyz+(ATTR11.xyz-ATTR2.xyz)*morphWeights[0];_morphNormal=_morphNormal+(ATTR13.xyz-ATTR2.xyz)*morphWeights[1];_morphNormal=_morphNormal+(ATTR15.xyz-ATTR2.xyz)*morphWeights[2];_TMP0=dot(_morphNormal.xyz,_morphNormal.xyz);_TMP1=inversesqrt(_TMP0);_morphNormal=_TMP1*_morphNormal.xyz;_OUTPosition1=_morphPosition.xxxx*worldViewProjection[0]+_morphPosition.yyyy*worldViewProjection[1]+_morphPosition.zzzz*worldViewProjection[2]+worldViewProjection[3];_OUTColor1=materialColor;_OUTUV1=ATTR8.xy;_OUTNormal1=_morphNormal;_v0019=lightPosition-_morphPosition;_TMP0=dot(_v0019,_v0019);_TMP1=inversesqrt(_TMP0);_OUTLight1=_TMP1*_v0019;_v0025=eyePosition-_morphPosition;_TMP0=dot(_v0025,_v0025);_TMP1=inversesqrt(_TMP0);_OUTView1=_TMP1*_v0025;tz_TexCoord[2].xyz=_OUTLight1;tz_TexCoord[0].xy=ATTR8.xy;tz_TexCoord[3].xyz=_OUTView1;tz_TexCoord[1].xyz=_morphNormal;gl_Position=_OUTPosition1;tz_Color=materialColor;}"},"fp_normals":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];\nvec4 _ret_0;float _TMP1;float _TMP0;void main()\n{vec3 _Nn;vec3 _TMP10;_TMP0=dot(tz_TexCoord[0].xyz,tz_TexCoord[0].xyz);_TMP1=inversesqrt(_TMP0);_Nn=_TMP1*tz_TexCoord[0].xyz;_TMP10=_Nn*0.5+0.5;_ret_0=vec4(_TMP10.x,_TMP10.y,_TMP10.z,1.0);gl_FragColor=_ret_0;}"},"vp_normals_morph":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];\nvec4 _OUTPosition1;vec3 _OUTNormal1;float _TMP1;float _TMP0;attribute vec4 ATTR0;attribute vec4 ATTR2;attribute vec4 ATTR10;attribute vec4 ATTR11;attribute vec4 ATTR12;attribute vec4 ATTR13;attribute vec4 ATTR14;attribute vec4 ATTR15;uniform vec4 worldViewProjection[4];uniform float morphWeights[3];void main()\n{vec3 _morphPosition;vec3 _morphNormal;_morphPosition=ATTR0.xyz+(ATTR10.xyz-ATTR0.xyz)*morphWeights[0];_morphPosition=_morphPosition+(ATTR12.xyz-ATTR0.xyz)*morphWeights[1];_morphPosition=_morphPosition+(ATTR14.xyz-ATTR0.xyz)*morphWeights[2];_morphNormal=ATTR2.xyz+(ATTR11.xyz-ATTR2.xyz)*morphWeights[0];_morphNormal=_morphNormal+(ATTR13.xyz-ATTR2.xyz)*morphWeights[1];_morphNormal=_morphNormal+(ATTR15.xyz-ATTR2.xyz)*morphWeights[2];_TMP0=dot(_morphNormal.xyz,_morphNormal.xyz);_TMP1=inversesqrt(_TMP0);_morphNormal=_TMP1*_morphNormal.xyz;_OUTPosition1=_morphPosition.xxxx*worldViewProjection[0]+_morphPosition.yyyy*worldViewProjection[1]+_morphPosition.zzzz*worldViewProjection[2]+worldViewProjection[3];_OUTNormal1=_morphNormal;tz_TexCoord[0].xyz=_morphNormal;gl_Position=_OUTPosition1;}"},"fp_morph":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;\nvoid main()\n{gl_FragColor=tz_Color;}"},"vp_morph":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;\nvec4 _OUTColor1;vec4 _OUTPosition1;float _TMP0;float _TMP4;float _TMP3;float _TMP2;vec3 _v0023;float _TMP32;attribute vec4 ATTR0;attribute vec4 ATTR2;attribute vec4 ATTR10;attribute vec4 ATTR11;attribute vec4 ATTR12;attribute vec4 ATTR13;attribute vec4 ATTR14;attribute vec4 ATTR15;uniform vec4 worldViewProjection[4];uniform float morphWeights[3];uniform vec4 materialColor;uniform vec3 lightPosition;uniform vec3 lightColor;uniform vec3 ambientColor;void main()\n{vec3 _morphPosition;vec3 _morphNormal;vec3 _lv;vec3 _color;vec3 _TMP13;_morphPosition=ATTR0.xyz+(ATTR10.xyz-ATTR0.xyz)*morphWeights[0];_morphPosition=_morphPosition+(ATTR12.xyz-ATTR0.xyz)*morphWeights[1];_morphPosition=_morphPosition+(ATTR14.xyz-ATTR0.xyz)*morphWeights[2];_morphNormal=ATTR2.xyz+(ATTR11.xyz-ATTR2.xyz)*morphWeights[0];_morphNormal=_morphNormal+(ATTR13.xyz-ATTR2.xyz)*morphWeights[1];_morphNormal=_morphNormal+(ATTR15.xyz-ATTR2.xyz)*morphWeights[2];_TMP2=dot(_morphNormal.xyz,_morphNormal.xyz);_TMP3=inversesqrt(_TMP2);_morphNormal=_TMP3*_morphNormal.xyz;_OUTPosition1=_morphPosition.xxxx*worldViewProjection[0]+_morphPosition.yyyy*worldViewProjection[1]+_morphPosition.zzzz*worldViewProjection[2]+worldViewProjection[3];_v0023=lightPosition-_morphPosition;_TMP2=dot(_v0023,_v0023);_TMP3=inversesqrt(_TMP2);_lv=_TMP3*_v0023;_TMP0=dot(_morphNormal,_lv);_TMP4=min(1.0,_TMP0);_TMP32=max(0.0,_TMP4);_color=_TMP32*lightColor+ambientColor;_TMP13=_color*materialColor.xyz;_OUTColor1=vec4(_TMP13.x,_TMP13.y,_TMP13.z,materialColor.w);gl_Position=_OUTPosition1;tz_Color=_OUTColor1;}"}}}