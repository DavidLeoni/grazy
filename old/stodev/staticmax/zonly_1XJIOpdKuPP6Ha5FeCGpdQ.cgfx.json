{"version": 1,"name": "zonly.cgfx","samplers":{"alpha_map":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497,"MaxAnisotropy": 4}},"parameters":{"uvTransform":{"type": "float","rows": 3,"columns": 2,"values": [1,0,0,1,0,0]},"projection":{"type": "float","rows": 4,"columns": 4},"worldView":{"type": "float","rows": 4,"columns": 3},"lightFrustum":{"type": "float","rows": 3,"columns": 3},"skinBones":{"type": "float","rows": 225,"columns": 4},"alphaFactor":{"type": "float"},"alpha_map":{"type": "sampler2D"}},"techniques":{"rigid":[{"parameters": ["projection","worldView"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp","fp_null"]}],"skinned":[{"parameters": ["projection","worldView","skinBones"],"semantics": ["POSITION","ATTR7","ATTR1"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_skinned","fp_null"]}],"rigid_alphatest":[{"parameters": ["uvTransform","projection","worldView","alphaFactor","alpha_map"],"semantics": ["POSITION","TEXCOORD0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_alpha","fp_alpha"]}],"skinned_alphatest":[{"parameters": ["uvTransform","projection","worldView","skinBones","alphaFactor","alpha_map"],"semantics": ["POSITION","TEXCOORD0","ATTR7","ATTR1"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": true,"CullFace": 1029,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_alpha_skinned","fp_alpha"]}],"rigid_nocull":[{"parameters": ["projection","worldView"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": false,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp","fp_null"]}],"skinned_nocull":[{"parameters": ["projection","worldView","skinBones"],"semantics": ["POSITION","ATTR7","ATTR1"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": false,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_skinned","fp_null"]}],"rigid_alphatest_nocull":[{"parameters": ["uvTransform","projection","worldView","alphaFactor","alpha_map"],"semantics": ["POSITION","TEXCOORD0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": false,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_alpha","fp_alpha"]}],"skinned_alphatest_nocull":[{"parameters": ["uvTransform","projection","worldView","skinBones","alphaFactor","alpha_map"],"semantics": ["POSITION","TEXCOORD0","ATTR7","ATTR1"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": true,"CullFaceEnable": false,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_alpha_skinned","fp_alpha"]}],"stencil_set":[{"parameters": ["projection","worldView"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [519,1,-1],"StencilOp": [7680,7680,7681],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp","fp_null"]}],"stencil_set_spotlight":[{"parameters": ["projection","worldView","lightFrustum"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [519,1,-1],"StencilOp": [7680,7680,7681],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_spotlight","fp_null"]}],"stencil_clear":[{"parameters": ["projection","worldView"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [519,0,-1],"StencilOp": [7680,7680,0],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp","fp_null"]}],"stencil_clear_spotlight":[{"parameters": ["projection","worldView","lightFrustum"],"semantics": ["POSITION"],"states":{"DepthTestEnable": true,"DepthFunc": 518,"DepthMask": false,"StencilTestEnable": true,"StencilFunc": [519,0,-1],"StencilOp": [7680,7680,0],"CullFaceEnable": true,"CullFace": 1028,"BlendEnable": false,"ColorMask": [0,0,0,0]},"programs": ["vp_spotlight","fp_null"]}]},"programs":{"fp_null":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvoid main()\n{}"},"vp_spotlight":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nattribute vec4 ATTR0;\nvec4 _ret_0;vec3 _wpt0010;uniform vec4 projection[4];uniform vec3 worldView[4];uniform vec3 lightFrustum[3];void main()\n{vec3 _scaledInPosition;_scaledInPosition=ATTR0.xxx*lightFrustum[0]+ATTR0.yyy*lightFrustum[1]+ATTR0.zzz*lightFrustum[2];_wpt0010=_scaledInPosition.xxx*worldView[0]+_scaledInPosition.yyy*worldView[1]+_scaledInPosition.zzz*worldView[2]+worldView[3];_ret_0=_wpt0010.xxxx*projection[0]+_wpt0010.yyyy*projection[1]+_wpt0010.zzzz*projection[2]+projection[3];gl_Position=_ret_0;}"},"vp":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nattribute vec4 ATTR0;\nvec4 _ret_0;uniform vec4 projection[4];uniform vec3 worldView[4];void main()\n{vec3 _viewPosition;_viewPosition=ATTR0.xxx*worldView[0]+ATTR0.yyy*worldView[1]+ATTR0.zzz*worldView[2]+worldView[3];_ret_0=_viewPosition.xxxx*projection[0]+_viewPosition.yyyy*projection[1]+_viewPosition.zzzz*projection[2]+projection[3];gl_Position=_ret_0;}"},"fp_alpha":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];\nvec4 _ret_0;vec4 _TMP0;uniform float alphaFactor;uniform sampler2D alpha_map;void main()\n{float _alpha;_TMP0=texture2D(alpha_map,tz_TexCoord[0].xy);_alpha=alphaFactor*_TMP0.w;if(_alpha<1.0){discard;}\n_ret_0=vec4(0.0,0.0,0.0,_alpha);gl_FragColor=_ret_0;}"},"vp_alpha_skinned":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];attribute vec4 ATTR0;attribute vec4 ATTR8;\nvec4 _OUTPosition1;vec2 _OUTUV1;vec4 _indices0009;ivec4 _Indices0009;vec4 _skinWeightTransform0009[3];attribute vec4 ATTR7;attribute vec4 ATTR1;uniform vec2 uvTransform[3];uniform vec4 projection[4];uniform vec3 worldView[4];uniform vec4 skinBones[225];void main()\n{vec4 _skinTempPosition;vec3 _localPosition;vec3 _viewPosition;_indices0009=ATTR7*3.0;_Indices0009=ivec4(int(_indices0009.x),int(_indices0009.y),int(_indices0009.z),int(_indices0009.w));_skinWeightTransform0009[0]=ATTR1.x*skinBones[_Indices0009.x];_skinWeightTransform0009[1]=ATTR1.x*skinBones[(_Indices0009.x+1)];_skinWeightTransform0009[2]=ATTR1.x*skinBones[(_Indices0009.x+2)];_skinWeightTransform0009[0]=_skinWeightTransform0009[0]+ATTR1.y*skinBones[_Indices0009.y];_skinWeightTransform0009[1]=_skinWeightTransform0009[1]+ATTR1.y*skinBones[(_Indices0009.y+1)];_skinWeightTransform0009[2]=_skinWeightTransform0009[2]+ATTR1.y*skinBones[(_Indices0009.y+2)];_skinWeightTransform0009[0]=_skinWeightTransform0009[0]+ATTR1.z*skinBones[_Indices0009.z];_skinWeightTransform0009[1]=_skinWeightTransform0009[1]+ATTR1.z*skinBones[(_Indices0009.z+1)];_skinWeightTransform0009[2]=_skinWeightTransform0009[2]+ATTR1.z*skinBones[(_Indices0009.z+2)];_skinWeightTransform0009[0]=_skinWeightTransform0009[0]+ATTR1.w*skinBones[_Indices0009.w];_skinWeightTransform0009[1]=_skinWeightTransform0009[1]+ATTR1.w*skinBones[(_Indices0009.w+1)];_skinWeightTransform0009[2]=_skinWeightTransform0009[2]+ATTR1.w*skinBones[(_Indices0009.w+2)];_skinTempPosition=vec4(ATTR0.x,ATTR0.y,ATTR0.z,1.0);_localPosition.x=dot(_skinTempPosition,_skinWeightTransform0009[0]);_localPosition.y=dot(_skinTempPosition,_skinWeightTransform0009[1]);_localPosition.z=dot(_skinTempPosition,_skinWeightTransform0009[2]);_viewPosition=_localPosition.xxx*worldView[0]+_localPosition.yyy*worldView[1]+_localPosition.zzz*worldView[2]+worldView[3];_OUTPosition1=_viewPosition.xxxx*projection[0]+_viewPosition.yyyy*projection[1]+_viewPosition.zzzz*projection[2]+projection[3];_OUTUV1=ATTR8.xx*uvTransform[0]+ATTR8.yy*uvTransform[1]+uvTransform[2];tz_TexCoord[0].xy=_OUTUV1;gl_Position=_OUTPosition1;}"},"vp_alpha":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying vec4 tz_TexCoord[1];attribute vec4 ATTR0;attribute vec4 ATTR8;\nvec4 _OUTPosition1;vec2 _OUTUV1;uniform vec2 uvTransform[3];uniform vec4 projection[4];uniform vec3 worldView[4];void main()\n{vec3 _viewPosition;_viewPosition=ATTR0.xxx*worldView[0]+ATTR0.yyy*worldView[1]+ATTR0.zzz*worldView[2]+worldView[3];_OUTPosition1=_viewPosition.xxxx*projection[0]+_viewPosition.yyyy*projection[1]+_viewPosition.zzzz*projection[2]+projection[3];_OUTUV1=ATTR8.xx*uvTransform[0]+ATTR8.yy*uvTransform[1]+uvTransform[2];tz_TexCoord[0].xy=_OUTUV1;gl_Position=_OUTPosition1;}"},"vp_skinned":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nattribute vec4 ATTR0;\nvec4 _ret_0;vec4 _indices0009;ivec4 _Indices0009;vec4 _skinWeightTransform0009[3];attribute vec4 ATTR7;attribute vec4 ATTR1;uniform vec4 projection[4];uniform vec3 worldView[4];uniform vec4 skinBones[225];void main()\n{vec4 _skinTempPosition;vec3 _localPosition;vec3 _viewPosition;_indices0009=ATTR7*3.0;_Indices0009=ivec4(int(_indices0009.x),int(_indices0009.y),int(_indices0009.z),int(_indices0009.w));_skinWeightTransform0009[0]=ATTR1.x*skinBones[_Indices0009.x];_skinWeightTransform0009[1]=ATTR1.x*skinBones[(_Indices0009.x+1)];_skinWeightTransform0009[2]=ATTR1.x*skinBones[(_Indices0009.x+2)];_skinWeightTransform0009[0]=_skinWeightTransform0009[0]+ATTR1.y*skinBones[_Indices0009.y];_skinWeightTransform0009[1]=_skinWeightTransform0009[1]+ATTR1.y*skinBones[(_Indices0009.y+1)];_skinWeightTransform0009[2]=_skinWeightTransform0009[2]+ATTR1.y*skinBones[(_Indices0009.y+2)];_skinWeightTransform0009[0]=_skinWeightTransform0009[0]+ATTR1.z*skinBones[_Indices0009.z];_skinWeightTransform0009[1]=_skinWeightTransform0009[1]+ATTR1.z*skinBones[(_Indices0009.z+1)];_skinWeightTransform0009[2]=_skinWeightTransform0009[2]+ATTR1.z*skinBones[(_Indices0009.z+2)];_skinWeightTransform0009[0]=_skinWeightTransform0009[0]+ATTR1.w*skinBones[_Indices0009.w];_skinWeightTransform0009[1]=_skinWeightTransform0009[1]+ATTR1.w*skinBones[(_Indices0009.w+1)];_skinWeightTransform0009[2]=_skinWeightTransform0009[2]+ATTR1.w*skinBones[(_Indices0009.w+2)];_skinTempPosition=vec4(ATTR0.x,ATTR0.y,ATTR0.z,1.0);_localPosition.x=dot(_skinTempPosition,_skinWeightTransform0009[0]);_localPosition.y=dot(_skinTempPosition,_skinWeightTransform0009[1]);_localPosition.z=dot(_skinTempPosition,_skinWeightTransform0009[2]);_viewPosition=_localPosition.xxx*worldView[0]+_localPosition.yyy*worldView[1]+_localPosition.zzz*worldView[2]+worldView[3];_ret_0=_viewPosition.xxxx*projection[0]+_viewPosition.yyyy*projection[1]+_viewPosition.zzzz*projection[2]+projection[3];gl_Position=_ret_0;}"}}}